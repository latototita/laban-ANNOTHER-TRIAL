{% extends 'base.html' %}

{% block body %}
{% load static %}
{% load cart %}
{% load custom_filter %}
	<div role="tabpanel">
			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist">
				<li role="presentation" class="active">
					<a href="#categories" aria-controls="categories" role="tab" data-toggle="tab" class="bold btn btn-primary">Categories</a>
				</li>
				<li role="presentation">
					<a href="#brands" aria-controls="brands" role="tab" data-toggle="tab" class="bold btn btn-primary">Brands</a>
				</li>
			</ul>
		
			<!-- Tab panes -->
			<div class="tab-content">
				<div role="tabpanel" class="tab-pane active" id="categories">
					<h3 class="bold">Categories</h3>
					<div class="container">
<div class="row">
	<div class="col-lg-12">
		<ol class="breadcrumb">
<p>
        				{% for category in categories %}               
                            <a href="/?category={{category.id}}" class="btn btn-primary my-2 my-sm-0"><i class="glyphicon glyphicon-chevron-left"></i> {{ category.name }} </a>
                        {% endfor %}
</p>
		</ol>
	</div>
</div>
</div>
<h3 class="bold">Categories</h3>

				</div>
				<div role="tabpanel" class="tab-pane" id="brands">
					<h3 class="bold">Brands</h3>
					<div class="container">
<div class="row">
	<div class="col-lg-12">
		<ol class="breadcrumb">
<p>
        				{% for brand in brands %}               
                            <a href="/?brand={{brand.id}}" class="btn btn-primary my-2 my-sm-0"><i class="glyphicon glyphicon-chevron-left"></i> {{ brand.name }} </a>
                        {% endfor %}
</p>
		</ol>
	</div>
</div>
</div>
				
<h3 class="bold">Brands</h3>
</div>
			</div>
			<ul class="nav nav-tabs" role="tablist">
				<li role="presentation" class="active">
					<a href="#categories" aria-controls="categories" role="tab" data-toggle="tab" class="bold btn btn-primary">Categories</a>
				</li>
				<li role="presentation">
					<a href="#brands" aria-controls="brands" role="tab" data-toggle="tab" class="bold btn btn-primary">Brands</a>
				</li>
			</ul>
		</div>



<div class="container" style="margin-top: 40px !important;">
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-body">
				<h4 class="text-center pageTitle">Available {% if k %}{{ k }}{% else %}Products{% endif %}</h4>
			</div>
		</div>
	</div>
</div>




<div class="container ">			
<div class="row">

{% for product in product_list %}
	<div class="col-md-2 col-xs-6">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 grid-item">
			<div class="pro-thumbnail">
				<a href="{% url 'details' product.id %}">
					<img src="{{product.image.url}}" alt="" style='height: 100% ; max-width: 100%;'>
				</a>
				<div class="caption text-center">
				<p class="my-sm-0" class="bold">{{ product.name }}</p>
					
					<p class="my-sm-0">{{ product.price }}/=</p>
					
					<p >
						<a href="{% url 'details' product.id %}" class="btn btn-primary btn-sm mt-2"  >
							<i class="glyphicon glyphicon-eye-open"></i> <i class="my-2 my-sm-0">View</i>
						</a>
				
						<form action="/#" method="POST" class="btn-block">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" class="btn btn-primary my-2 my-sm-0"
								value="Add to Cart" >	
						</form>					
					</p>
				</div>
	
			</div>
		</div>
	</div>
	{% endfor %}

</div>
</div>
<div class="container">
<div class="row">
	<div class="col-lg-12 text-center">
		<ol class="breadcrumb">
			<p>
				{% if product_list.number >= 5 %}
            <li><a href="?page=1">1</a></li>
            <li><span>...</span></li>
            {% elif product_list.number == 4 %}
            <li><a href="?page=1">1</a></li>
            {% endif %}
            {% if product_list.number|add:"-2" >= 1  %}
            <li><a href="?page={{ product_list.number|add:"-2" }}">{{ product_list.number|add:"-2" }}</a></li>
            {% endif %}
            {% if product_list.number|add:"-1" >= 1  %}
            <li><a href="?page={{ product_list.number|add:"-1" }}">{{ product_list.number|add:"-1" }}</a></li>
            {% endif %}
            <li class="active"><a href="?page={{ product_list.number }}">{{ product_list.number }}</a></li>
            {% if product_list.number|add:"1" <= paginator.num_pages  %}
            <li><a href="?page={{ product_list.number|add:"1" }}">{{ product_list.number|add:"1" }}</a></li>
            {% endif %}
            {% if product_list.number|add:"2" <= paginator.num_pages %}
            <li><a href="?page={{ product_list.number|add:"2" }}">{{ product_list.number|add:"2" }}</a></li>
            {% endif %}
            {% if product_list.number|add:"2" <= paginator.num_pages|add:"-2" %}
            <li><span>...</span></li>
            <li><a href="?page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a></li>
            {% elif product_list.number|add:"1" <= paginator.num_pages|add:"-2" %}
            <li><a href="?page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a></li>
            {% endif %}
		</p>
			
		</ol>
	</div>
</div>


{% endblock %}
